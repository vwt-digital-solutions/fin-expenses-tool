<div class="container app-container app-landing">
  <div class="pb-2 mb-2 border-bottom" id="stepstep">
    <h1>mijn declaraties</h1>
    <small>{{this.displayPersonName}}</small>
  </div>
  <br>
  <div class="row row-100">
    <div class="col col-sm-8 h-100" id="liststep">
      <ul class="expenses-list">
        <li
          *ngIf="this.hasNoExpenses"
          class="list-group-item d-flex justify-content-between align-items-center text-muted" >
          Je hebt geen openstaande declaraties
        </li>
        <li
          *ngFor="let item of declarationData"
          class="expenses-list-item d-flex justify-content-between align-items-center"
          [ngClass]="setClassStatus(item)" >
          <div
            class="item-inner"
            (click)="clickExpense(item)" >
            <div class="d-table float-left">
              <h3><strong>{{ decimalFormatter(item.amount) }}</strong></h3>
              <span>{{ dateFormatter(item.claim_date )}}</span><span class="text-muted ml-2">{{ item.cost_type.split(':')[0] }}</span>
            </div>
            <div class="status-pill">
              <span class="badge badge-pill" [className]="formatter.getStatusClassing(item.status.text)">
                {{ formatter.getStatusFormatter(item.status.text) }}
              </span>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="col col-sm-1" id="linestep"></div>
    <div class="col col-sm-3" id="pickstep">
      <div class="btn-group-vertical" role="group">
        <button
          name="expenses"
          class="btn btn-primary w-100 py-2 py-md-3"
          [routerLink]="['/expenses/employee']" >
          Nieuwe Declaratie
        </button>
        <button
          *ngIf="this.OurJaneDoeIs.includes('creditor')"
          name="expenses/process"
          class="btn btn-primary w-100 py-2 py-md-3"
          [routerLink]="['/expenses/process']" >
          Declaraties Controleren
        </button>
        <button
          *ngIf="this.managerAmount > 0"
          name="expenses/manage"
          class="btn btn-primary w-100 py-2 py-md-3"
          [routerLink]="['/expenses/manage']" >
          Declaraties Beoordelen
          <span class="badge badge-pill badge-light">{{this.managerAmount}}</span>
        </button>
        <button
          *ngIf="this.OurJaneDoeIs.includes('controller')"
          name="expenses/controller"
          class="btn btn-primary w-100 py-2 py-md-3"
          [routerLink]="['/expenses/controller']" >
          Controller
        </button>
      </div>
    </div>
  </div>

  <app-maxmodal *ngIf="wantsNewModal"
                (messageEvent)="receiveMessage($event)"
                [forceViewer]="forceViewer"
                [moveDirection]="'move-top'"
                [expenseData]="expenseData"></app-maxmodal>
</div>
