<div class="container">
  <!-- START AG-GRID EXPENSES -->
  <ag-grid-angular
    style="width: 100%; height: 750px; overflow:hidden;"
    id="expensestable"
    class="ag-theme-material"
    [rowData]="rowData"
    [columnDefs]="columnDefs"
    [rowSelection]="rowSelection"
    (selectionChanged)="onSelectionChanged($event, expenseContent)"
    (gridReady)="onGridReady($event)">
  </ag-grid-angular>
  <!-- END AG-GRID EXPENSES -->
  <!-- FORM TEMPLATE -->
  <ng-template #expenseContent let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Declaratie Bewerken</h4>
      <button id="expenseModalClose" type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <code>{{ expenseData.employee_full_name }}</code>
      <div id="updateErrors" class="alert alert-danger" role="alert" *ngIf="showErrors">
        {{ formErrors }} {{ formResponse.detail }}
      </div>
      <div id="updateSuccess" class="alert alert-success" role="alert" *ngIf="formSubmitted">
        Update is geslaagd!
      </div>
      <form
        id="expensesUpdateForm"
        #expenseUpdateForm="ngForm"
        (ngSubmit)="claimUpdateForm(expenseUpdateForm, expenseData.id)"
        name="expenseUpdateForm">
        <div class="form-group">
          <!-- Form: Costs -->
          <label for="expenseAmount">Kosten:</label>
          <div class="input-group mb-3">
            <input id="expenseAmount"
                   type="number"
                   readonly
                   class="form-control"
                   placeholder="{{ expenseData.amount | currency: 'EUR' }}"
                   name="amount">
          </div>
          <div class="mt-3"></div>
          <!-- Form: Cost Type -->
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label class="input-group-text" for="expenseCostType">Soort:</label>
            </div>
            <select id="expenseCostType"
                    class="custom-select"
                    name="cost_type">
              <option value="" disabled selected><kbd>Huidige:</kbd> {{ expenseData.cost_type.split(':')[0] }}
            </select>
          </div>
          <!-- Form: Date of Transaction -->
          <label for="expenseDateOfTransaction">Datum bon:</label>
          <div class="input-group mb-3">
            <input id="expenseDateOfTransaction"
                   class="form-control"
                   type="text"
                   readonly
                   placeholder="{{ expenseData.date_of_transaction  }}"
                   name="date_of_transaction">
            <div class="input-group-append">
                <span class="input-group-text" onclick="document.getElementById('expenseDateOfTransaction').focus()">
                  <i class=" fa fa-calendar-alt"></i> </span>
            </div>
          </div>
          <!-- Form: Rejection Note -->
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label class="input-group-text" for="expenseRejectionNote">Afgewezen:</label>
            </div>
            <select id="expenseRejectionNote"
                    class="custom-select"
                    name="manager_note"
                    ngModel>
              <option value="" disabled selected> Kies een reden</option>
              <option *ngFor="let t of expenseDataRejection" value="{{t.reason}}">{{t.reason}}</option>
            </select>
          </div>
          <input type="submit" id="submit-update-form" hidden/>
        </div>
      </form>
    </div>
    <div>
      <picture>
        <source srcset="" type="image/*">
        <img src="{{ receiptImage }}" class="img-fluid img-thumbnail" alt="{{ expenseData.note }}">
      </picture>
    </div>
    â€‹
    <div class="modal-footer">
      <div id="thumbs-up" class="float-right badge badge-success" (click)="updatingAction('approving')">
        <label for="submit-update-form">
          <i id="information-icon" class="fa fa-thumbs-up"></i>
        </label>
      </div>

      <div id="thumbs-down" class="float-right badge badge-danger" (click)="updatingAction('rejecting')">
        <label for="submit-update-form">
          <i id="information-icon-down" class="fa fa-thumbs-down"></i>
        </label>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-warning" (click)="getNextExpense()">Volgende</button>
    </div>
  </ng-template>
  <!--   END FORM TEMPLATE-->
</div>
